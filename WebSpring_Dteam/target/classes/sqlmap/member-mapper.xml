<?xml version="1.0" encoding="UTF-8"?>

<!--xml을 mapper로 사용하기위해 추가 -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="member.mapper">

	<!--  마이페이지  -->
	<select resultType="member.MemberVO" id="detail">
		select * from tblmember where member_id = #{member_id} 
	</select>	
	<!--  회원정보수정 -->
	<update id="update">
		update tblmember set member_pw=#{member_pw}, member_nickname=#{member_nickname}, member_phone=#{member_phone}, member_latitude= #{member_latitude}, member_longitude=#{member_longitude}
		where member_id = #{member_id}
	</update>

	<!-- 로그인 -->
	<select id="login" resultType="member.MemberVO">
		select * from tblmember where member_id=#{id} and member_pw=#{pw}
	</select>
	
	<!-- 네이버 로그인(DB 저장 OX) -->
	<select id="socialLogin" resultType="member.MemberVO">
		select * from tblmember where member_id=#{member_id}
	</select>
	
	<select id="join">
		insert into tblmember(member_id, member_pw, member_nickname, member_tel, member_addr,
							  member_latitude, member_longitude, member_grade, member_name, 
							  member_profile, member_loginType, member_token)
		values ( #{member_id}, #{member_pw}, #{member_nickname}, #{member_tel}, #{member_addr}, 
				 #{member_latitude}, #{member_longitude}, #{member_grade}, #{member_name},
				 #{member_profile}, #{member_loginType}, #{member_token} )
	</select>
	<select id="naver_join">
		insert into tblmember(member_id, member_nickname, member_name, member_loginType, member_token)
		values ( #{member_id}, #{member_nickname}, #{member_name}, #{member_loginType}, #{member_token} )
	</select>
	
	<update id="update_token">
		update tblmember set member_token = #{member_token}
		where member_id = #{member_id}
	</update>
	
	<select id="kakao_join">
		insert into tblmember(member_id, member_nickname, member_loginType, member_token)
		values ( #{member_id}, #{member_nickname}, #{member_loginType}, #{member_token} )	
	</select>
	
</mapper>